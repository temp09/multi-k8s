
Install sonarQube in linux:
******************************

SonarQube is an open source quality management platform dedicated to continuously analyzing and measuring source code quality. Perform the following steps to install SonarQube on Linux servers.

Download latest version of SonarQube (5.3 as of 2/9/16).
https://www.sonarqube.org/downloads/
2. Extract the zip file to /opt directory.

3. Change owner and group by executing the following command.

 

chown -R jenkins:jenkins sonarqube-5.3
 

4. Add sonar file under /etc/init.d/ with content by executing the following commands.

 

#!/bin/sh
#
# rc file for SonarQube
#
# chkconfig: 345 96 10
# description: SonarQube system (www.sonarsource.org)
#
### BEGIN INIT INFO
# Provides: sonar
# Required-Start: $network
# Required-Stop: $network
# Default-Start: 3 4 5
# Default-Stop: 0 1 2 6
# Short-Description: SonarQube system (www.sonarsource.org)
# Description: SonarQube system (www.sonarsource.org)
### END INIT INFO
  
/usr/bin/sonar $*
 

5. Add sonar home by executing the following command.

 

export SONAR_HOME=/opt/sonarqube-5.3
 

6. Execute the following command.

 

sudo ln -s $SONAR_HOME/bin/linux-x86-64/sonar.sh /usr/bin/sonar
sudo chmod 755 /etc/init.d/sonar
sudo chkconfig --add sonar
 

7. Update /usr/bin/sonar file variable 'RUN_AS_USER' by executing the following command.

 

RUN_AS_USER="jenkins"
 

8. Update /opt/sonarqube-5.3/conf/warpper.conf file variable 'wrapper.java.command' by executing the following command.

 

wrapper.java.command=/usr/java/java7/bin/java
 

9. Update /opt/sonarqube-5.3/conf/sonar.properties file with postgresql values by executing the following commands.

 

sonar.jdbc.url=jdbc:postgresql://10.27.194.179:5432/sonar
sonar.jdbc.username=sonar
sonar.jdbc.password=sonar
 

10. Start sonar by executing the following command.

 

sudo service sonar start
