Hello, and welcome to Capacity Planning and Scaling, Add and Remove Zookeeper. In this video, we're going to look at how you either add or remove Zookeeper nodes. Over time, as your planet expands with more servers, news organizations and environments, more API proxies and other items and objects that need tracking, you may need to increase the number of Zookeeper nodes. Typically, we see Zookeeper nodes added alongside the Cassandra nodes. But in this video, we're just going to talk about adding new Zookeeper nodes. The first step in creating new Zookeeper nodes is to create an updated response file. Again, you can see on-screen the additions using IPs14 through 16. With Zookeeper, it is crucial to remember that an odd number of voters must be maintained. Here, we can see that IP16 has been marked as an observer, meaning that it can respond to read requests, but will play no part in voting during a write request. With the updated config file in place, we can go ahead and setup the new Zookeeper nodes using the apigee-setup utility, using the profile ZK and providing the path to the response file. As mentioned earlier, we typically see customers add Zookeeper nodes alongside their Cassandra nodes. And if you're following that process, the new nodes will be installed using the DS profile. Once the new nodes have been installed, the existing Zookeeper nodes need to be updated to reflect the new configuration. Again, we use the apigee-setup utility, passing in the ZK profile and the path to the updated configuration file. Next, we reconfigure the management server using the same process as previously described, but now using the MS profile. Once this is completed, you perform a rolling restart of all Zookeeper nodes using the apigee-service utility. Once the Zookeeper nodes have restarted, each of the Edge components must also be reconfigured and restarted. The profiles for each component is shown. Router is R, message-processor, MP, qpid-server, QS and finally, the postgres-server, PS. The component should be restarted serially in order to prevent any service interruption. Finally for this session, we'll talk about removing Zookeeper nodes. You can see on-screen the original and updated response files. In the updated response file, we lose three of the Zookeeper nodes. Note that with only three nodes, we do not need to tag a node as an observer. Removing nodes follows a similar pattern to adding nodes. First, we update the remaining nodes with the new configuration by running apigee-setup with a ZK profile and providing the path to the new configuration file. Following the update, the node just restarted. Again, to prevent service interruption, this should be performed serially. Once all remaining nodes have been reconfigured and restarted, the removed nodes can have the service stopped using the apigee-service command. Once stopped, the Apigee Software can be uninstalled and the node decommissioned. Full instructions for removing software can be found at the link shown on-screen. The final parts of removing Zookeeper nodes is to reconfigure and restart the other Edge components. For each component listed, run apigee-setup and pass the appropriate profile and path to the updated configuration file. For the edge-management-server, MS, then the router, R, message processor, MP, qpid-server, QS, and a postgres-server, PS. As previously, these actions should be performed serially to prevent service interruption. This concludes Capacity Planning and Scaling, Add and Remove Zookeeper. For more information, you can visit docs.apigee.com. And to get involved in the community, please go to community.apigee.com. Thank you.